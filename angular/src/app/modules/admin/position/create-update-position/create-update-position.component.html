<form
  class="form-horizontal"
  autocomplete="off"
  #resourceRequestForm="ngForm"
  novalidate
>
  <abp-modal-header
    title="{{
      data.command == 'create'
        ? 'Create new position'
        : 'Edit position: ' + title
    }}"
    (onCloseClick)="dialogRef.close()"
  >
  </abp-modal-header>
  <div class="modal-body">
    <div class="form-group row required">
      <label class="col-md-3 col-form-label" for="pm"> Name: </label>
      <div class="col-md-9">
        <input name="{{data.command == 'create'?'ipt-positionName':'ipt-positionName_edit'}}"
          (ngModelChange)="nameChange($event)"
          class="form-control mt-1"
          type="text"
          placeholder="Name"
          required
          name="positionName"
          [(ngModel)]="position.name"
          #name="ngModel"
          #nameEl
          suffix="%"
        />
        <abp-validation-summary [control]="name" [controlEl]="nameEl">
        </abp-validation-summary>
      </div>
    </div>

    <div class="form-group row required">
      <label class="col-md-3 col-form-label" for="pm"> Short Name: </label>
      <div class="col-md-9">
        <input name="{{data.command == 'create'?'ipt-shortName':'ipt-shortName_edit'}}"
          class="form-control mt-1"
          type="text"
          placeholder="Short Name"
          required
          name="shortName"
          [(ngModel)]="position.shortName"
          #shortName="ngModel"
          #shortNameEl
          suffix="%"
        />
        <abp-validation-summary [control]="shortName" [controlEl]="shortNameEl">
        </abp-validation-summary>
      </div>
    </div>

    <div class="form-group row required">
      <label class="col-md-3 col-form-label" for="pm"> Code: </label>
      <div class="col-md-9">
        <input name="{{data.command == 'create'?'ipt-code':'ipt-code_edit'}}"
          class="form-control mt-1"
          type="text"
          placeholder="Code"
          required
          name="code"
          [(ngModel)]="position.code"
          #code="ngModel"
          #codeEl
          suffix="%"
        />
        <abp-validation-summary [control]="code" [controlEl]="codeEl">
        </abp-validation-summary>
      </div>
    </div>


    <div class="form-group row d-flex required">
      <label class="col-3 mt-2 col-form-label" for="pm">
        Color:
      </label>
      <div class="d-flex align-items-center pl-2">
          <mat-form-field appearance="outline" class="common-input">
              <input name="{{data.command == 'create'?'ipt-color':'ipt-color_edit'}}"
              matInput class="form-control mt-1"
              placeholder="Color"
              required
              style="height: 14px;"
              name="color"
              [(ngModel)]="position.color"
              #color="ngModel"
              #colorEl
              suffix="%">
          </mat-form-field>
          <div class="d-flex align-items-center">
            <input class="ml-3 color-picker" type="color" name="color" [(ngModel)]="position.color">
          </div>




        <abp-validation-summary [control]="color" [controlEl]="colorEl">
        </abp-validation-summary>
      </div>
    </div>
  </div>
  <div align="end" class="row justify-content-end">
    <button name="btn-cancel" class="btn btn-secondary mr-2 btn-action" mat-dialog-close>Cancel</button>
    <button name="btn-save"
      class="btn btn-primary btn-action"
      [disabled]="!resourceRequestForm.valid || isLoading"
      (click)="SaveAndClose()"
    >
      Save
    </button>
  </div>
</form>
